vars = json('../styles/vars.json', {hash:true})
@require '../styles/breakpoints'


.imageWrapper
  overflow: hidden
  position: relative
  flex: 100% 0 0

  +below(vars.screens.mobile)
    box-shadow: 0 1px 8px rgba(0,0,0,0.2)
    border-radius: 5px
    margin-bottom: 1.4em

  // custom styles for when project image is used
  // as endNote, aka "More Projects" at end of case study.
  &.endNote
    .projectImage
      height: 30vw
      max-height: 500px
      transform: scale(1.5)

      &:hover
        transform: scale(2)

      +below(vars.screens.mobile)
        height: 200px

      &:after
        display: none

    .metaWrapper
      display: none

  .projectImage
    cursor: pointer
    height: 80vh
    width: 100%
    background-size: cover
    background-position: center
    position: relative
    transition: transform 1s linear

    +above(vars.screens.big)
      flex: 33% 0 0

    +below(vars.screens.mobile)
      flex: 100% 0 0
      height: 68vh

    .endNote &
      height: 30vw
      max-height: 500px

      +below(vars.screens.mobile)
        height: 200px

    // dark tint at top for legibility

    &:after
      content: ''
      position: absolute
      top: 0
      left: 0
      background linear-gradient(rgba(0,0,0,0.3) 20%, rgba(0,0,0,0) 33%, rgba(0,0,0,0) 80%, rgba(0,0,0,0.15) 100%)
      // background linear-gradient(rgba(0,0,0,0.4) 20%, rgba(0,0,0,0) 33%)
      display: block
      width: 100%
      height: 100%
      opacity: 1
      transition:opacity 1s

    // dark tint to be activated on hover
    &:before
      content: ''
      position: absolute
      top: 0
      left: 0
      background black
      display: block
      width: 100%
      height: 100%
      opacity: 0
      transition:opacity 1s
      mix-blend-mode: multiply;

    &:hover
      +above(vars.screens.mobile)
        transition: transform 10s linear
        transform: scale(1.2)
        &:before
          opacity: 0.3



  .metaWrapper
    padding: 3vw
    align-self: center
    position: absolute
    top: 3vh
    left: 0
    z-index: 500
    pointer-events: none;

    .endNote &
      display: none

  .title, .description
    transition: opacity 1s
    color: white
    display: block
    opacity: 1

  .title
    font-size: calc(0.75em + 2vw)
    // letter-spacing: 3px
    font-weight: 700
    text-shadow: 0 1px 4px rgba(0,0,0,0.3)
    // text-transform: uppercase;

  .description
    opacity: 1
    font-size: calc(0.75em + 0.75vw)
    -webkit-font-smoothing: antialiased
    text-shadow: 0 1px 4px rgba(0,0,0,0.2)

    +below(vars.screens.mobile)
      opacity: 1
